{
    "name": "context-engine",
    "displayName": "Context Engine",
    "description": "AI-powered codebase context engine for intelligent code search and prompt enhancement",
    "version": "0.1.1",
    "publisher": "context-engine",
    "icon": "resources/icon.png",
    "repository": {
        "type": "git",
        "url": "https://github.com/Kirachon/context-engine"
    },
    "engines": {
        "vscode": "^1.85.0"
    },
    "categories": [
        "Other",
        "Machine Learning"
    ],
    "keywords": [
        "ai",
        "context",
        "search",
        "semantic",
        "codebase"
    ],
    "activationEvents": [
        "onStartupFinished"
    ],
    "main": "./dist/extension.js",
    "contributes": {
        "viewsContainers": {
            "activitybar": [
                {
                    "id": "context-engine",
                    "title": "Context Engine",
                    "icon": "$(search)"
                }
            ]
        },
        "views": {
            "context-engine": [
                {
                    "id": "contextEngine.chat",
                    "name": "Chat",
                    "type": "webview"
                },
                {
                    "id": "contextEngine.status",
                    "name": "Status",
                    "type": "tree"
                },
                {
                    "id": "contextEngine.searchResults",
                    "name": "Search Results",
                    "type": "tree"
                },
                {
                    "id": "contextEngine.recentSearches",
                    "name": "Recent Searches",
                    "type": "tree"
                }
            ]
        },
        "viewsWelcome": [
            {
                "view": "contextEngine.status",
                "contents": "Not connected to Context Engine server.\n[Connect to Server](command:contextEngine.connect)"
            },
            {
                "view": "contextEngine.searchResults",
                "contents": "No search results yet.\n[Search Codebase](command:contextEngine.search)"
            }
        ],
        "commands": [
            {
                "command": "contextEngine.connect",
                "title": "Connect to Server",
                "category": "Context Engine",
                "icon": "$(plug)"
            },
            {
                "command": "contextEngine.disconnect",
                "title": "Disconnect from Server",
                "category": "Context Engine",
                "icon": "$(debug-disconnect)"
            },
            {
                "command": "contextEngine.showStatus",
                "title": "Show Index Status",
                "category": "Context Engine",
                "icon": "$(info)"
            },
            {
                "command": "contextEngine.indexWorkspace",
                "title": "Index Workspace",
                "category": "Context Engine",
                "icon": "$(sync)"
            },
            {
                "command": "contextEngine.search",
                "title": "Semantic Search",
                "category": "Context Engine",
                "icon": "$(search)"
            },
            {
                "command": "contextEngine.enhancePrompt",
                "title": "Enhance Prompt",
                "category": "Context Engine",
                "icon": "$(sparkle)"
            },
            {
                "command": "contextEngine.createPlan",
                "title": "Create Plan",
                "category": "Context Engine",
                "icon": "$(tasklist)"
            },
            {
                "command": "contextEngine.codebaseRetrieval",
                "title": "Codebase Retrieval",
                "category": "Context Engine",
                "icon": "$(library)"
            },
            {
                "command": "contextEngine.refreshStatus",
                "title": "Refresh Status",
                "category": "Context Engine",
                "icon": "$(refresh)"
            },
            {
                "command": "contextEngine.clearSearchResults",
                "title": "Clear Search Results",
                "category": "Context Engine",
                "icon": "$(clear-all)"
            },
            {
                "command": "contextEngine.openResult",
                "title": "Open File",
                "category": "Context Engine",
                "icon": "$(go-to-file)"
            },
            {
                "command": "contextEngine.showOutput",
                "title": "Show Output",
                "category": "Context Engine",
                "icon": "$(output)"
            },
            {
                "command": "contextEngine.searchFromCodeLens",
                "title": "Find Related Code",
                "category": "Context Engine",
                "icon": "$(search)"
            },
            {
                "command": "contextEngine.getContextFromCodeLens",
                "title": "Get Context",
                "category": "Context Engine",
                "icon": "$(book)"
            },
            {
                "command": "contextEngine.startServer",
                "title": "Start Server",
                "category": "Context Engine",
                "icon": "$(play)"
            },
            {
                "command": "contextEngine.stopServer",
                "title": "Stop Server",
                "category": "Context Engine",
                "icon": "$(debug-stop)"
            }
        ],
        "menus": {
            "editor/title": [
                {
                    "command": "contextEngine.createPlan",
                    "when": "editorFocus",
                    "group": "navigation@1"
                },
                {
                    "command": "contextEngine.enhancePrompt",
                    "when": "editorFocus",
                    "group": "navigation@2"
                },
                {
                    "command": "contextEngine.search",
                    "when": "editorFocus",
                    "group": "navigation@3"
                },
                {
                    "command": "contextEngine.codebaseRetrieval",
                    "when": "editorFocus",
                    "group": "navigation@4"
                }
            ],
            "editor/context": [
                {
                    "command": "contextEngine.enhancePrompt",
                    "when": "editorHasSelection",
                    "group": "contextEngine@1"
                },
                {
                    "command": "contextEngine.search",
                    "group": "contextEngine@2"
                }
            ],
            "view/title": [
                {
                    "command": "contextEngine.refreshStatus",
                    "when": "view == contextEngine.status",
                    "group": "navigation"
                },
                {
                    "command": "contextEngine.search",
                    "when": "view == contextEngine.searchResults",
                    "group": "navigation"
                },
                {
                    "command": "contextEngine.clearSearchResults",
                    "when": "view == contextEngine.searchResults",
                    "group": "navigation"
                }
            ],
            "view/item/context": [
                {
                    "command": "contextEngine.openResult",
                    "when": "view == contextEngine.searchResults && viewItem == searchResult",
                    "group": "inline"
                }
            ]
        },
        "configuration": {
            "title": "Context Engine",
            "properties": {
                "contextEngine.serverUrl": {
                    "type": "string",
                    "default": "http://localhost:3333",
                    "description": "Context Engine server URL"
                },
                "contextEngine.autoConnect": {
                    "type": "boolean",
                    "default": true,
                    "description": "Automatically connect to server on startup"
                },
                "contextEngine.showStatusBar": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show connection status in status bar"
                },
                "contextEngine.maxSearchResults": {
                    "type": "number",
                    "default": 20,
                    "description": "Maximum search results to display"
                },
                "contextEngine.maxRecentSearches": {
                    "type": "number",
                    "default": 10,
                    "description": "Maximum recent searches to remember"
                },
                "contextEngine.enableCodeLens": {
                    "type": "boolean",
                    "default": true,
                    "description": "Show CodeLens actions on function and class definitions"
                },
                "contextEngine.enableHealthMonitoring": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable automatic health monitoring and reconnection"
                },
                "contextEngine.healthCheckInterval": {
                    "type": "number",
                    "default": 30000,
                    "description": "Health check interval in milliseconds"
                },
                "contextEngine.serverPath": {
                    "type": "string",
                    "default": "",
                    "description": "Path to Context Engine server script (for auto-start)"
                },
                "contextEngine.autoStartServer": {
                    "type": "boolean",
                    "default": false,
                    "description": "Automatically start the server if not running"
                }
            }
        }
    },
    "scripts": {
        "vscode:prepublish": "npm run compile",
        "compile": "tsc -p ./",
        "watch": "tsc -watch -p ./",
        "pretest": "npm run compile",
        "test": "node ./dist/test/runTest.js",
        "lint": "eslint src --ext ts",
        "package": "vsce package"
    },
    "devDependencies": {
        "@types/glob": "^8.1.0",
        "@types/mocha": "^10.0.6",
        "@types/node": "^20.0.0",
        "@types/vscode": "^1.85.0",
        "@typescript-eslint/eslint-plugin": "^6.0.0",
        "@typescript-eslint/parser": "^6.0.0",
        "@vscode/test-electron": "^2.3.8",
        "eslint": "^8.0.0",
        "glob": "^10.3.10",
        "mocha": "^10.2.0",
        "typescript": "^5.3.0"
    }
}